<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_20) on Mon Dec 07 20:08:38 EST 2015 -->
<title>RecorderService</title>
<meta name="date" content="2015-12-07">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RecorderService";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/theif519/sakoverlay/Services/NotificationService.html" title="class in com.theif519.sakoverlay.Services"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderBinder.html" title="class in com.theif519.sakoverlay.Services"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/theif519/sakoverlay/Services/RecorderService.html" target="_top">Frames</a></li>
<li><a href="RecorderService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.theif519.sakoverlay.Services</div>
<h2 title="Class RecorderService" class="title">Class RecorderService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Service</li>
<li>
<ul class="inheritance">
<li>com.theif519.sakoverlay.Services.RecorderService</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">RecorderService</span>
extends Service</pre>
<div class="block">Created by theif519 on 11/12/2015.
 <p/>
 RecorderService is a service made explicitly for capturing and maintaining a video stream
 while in the application is in the background. It uses the API level 21 MediaProjection API
 to accomplish this, and maintains the state of the current recording.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderBinder.html" title="class in com.theif519.sakoverlay.Services">RecorderService.RecorderBinder</a></span></code>
<div class="block">The IBinder returned when we are bound to an activity/fragment.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderCommand.html" title="enum in com.theif519.sakoverlay.Services">RecorderService.RecorderCommand</a></span></code>
<div class="block">This enumeration is used to encapsulate a given command from a bound activity/fragment, and
 is used as a helper to determine whether or not given command is possible given the current state.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderState.html" title="enum in com.theif519.sakoverlay.Services">RecorderService.RecorderState</a></span></code>
<div class="block">Enumerations used to describe the current state of the object, even
 having a direct string representation.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private VirtualDisplay</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#mDisplay">mDisplay</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../com/theif519/sakoverlay/POD/RecorderInfo.html" title="class in com.theif519.sakoverlay.POJO">RecorderInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#mLastRecorderInfo">mLastRecorderInfo</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private MediaProjection</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#mProjection">mProjection</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private MediaRecorder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#mRecorder">mRecorder</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderState.html" title="enum in com.theif519.sakoverlay.Services">RecorderService.RecorderState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#mState">mState</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private rx.subjects.PublishSubject&lt;<a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderState.html" title="enum in com.theif519.sakoverlay.Services">RecorderService.RecorderState</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#mStateChangeObserver">mStateChangeObserver</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#RecorderService--">RecorderService</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#changeState-com.theif519.sakoverlay.Services.RecorderService.RecorderState-">changeState</a></span>(<a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderState.html" title="enum in com.theif519.sakoverlay.Services">RecorderService.RecorderState</a>&nbsp;state)</code>
<div class="block">Change the state and broadcast it to any listeners.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#checkStartParameters-int-int-java.lang.String-">checkStartParameters</a></span>(int&nbsp;width,
                    int&nbsp;height,
                    java.lang.String&nbsp;fileName)</code>
<div class="block">Helper function since the checking of input is making the start() function get too long.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private VirtualDisplay</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#createVirtualDisplay-int-int-">createVirtualDisplay</a></span>(int&nbsp;width,
                    int&nbsp;height)</code>
<div class="block">Convenience method to create a virtual display.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#die--">die</a></span>()</code>
<div class="block">Sends the command to die, which will release any and all resources if they are currently being
 held, changes its state to DEAD, stops the foreground notification, and then stops itself.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderState.html" title="enum in com.theif519.sakoverlay.Services">RecorderService.RecorderState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#getState--">getState</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#initialize-int-int-boolean-java.lang.String-">initialize</a></span>(int&nbsp;width,
          int&nbsp;height,
          boolean&nbsp;audioEnabled,
          java.lang.String&nbsp;fileName)</code>
<div class="block">Initializes the MediaRecorder with the user's requested data if it gets through the checks
 in start().</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#logErrorAndChangeState-java.lang.Throwable-">logErrorAndChangeState</a></span>(java.lang.Throwable&nbsp;ex)</code>
<div class="block">Used to log any errors and handle it by changing and broadcasting it's state too, although not sure
 if it would cause a crash or not.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>IBinder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#onBind-Intent-">onBind</a></span>(Intent&nbsp;intent)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#onCreate--">onCreate</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#onStartCommand-Intent-int-int-">onStartCommand</a></span>(Intent&nbsp;intent,
              int&nbsp;flags,
              int&nbsp;startId)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#setupFloatingView--">setupFloatingView</a></span>()</code>
<div class="block">We add the view controller to the WindowManager, allowing us to draw over other applications.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#setupForegroundNotification--">setupForegroundNotification</a></span>()</code>
<div class="block">As it is possible for S.A.K-Overlay to be killed in the background while recording, adding a Foreground
 notification reduces the chances of it happening drastically.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#start-com.theif519.sakoverlay.POD.RecorderInfo-">start</a></span>(<a href="../../../../com/theif519/sakoverlay/POD/RecorderInfo.html" title="class in com.theif519.sakoverlay.POJO">RecorderInfo</a>&nbsp;info)</code>
<div class="block">Start the recorder, if possible, with the passed information.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.html#stop--">stop</a></span>()</code>
<div class="block">Stops the recording if it's already started.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="mState">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mState</h4>
<pre>private&nbsp;<a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderState.html" title="enum in com.theif519.sakoverlay.Services">RecorderService.RecorderState</a> mState</pre>
</li>
</ul>
<a name="mProjection">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mProjection</h4>
<pre>private&nbsp;MediaProjection mProjection</pre>
</li>
</ul>
<a name="mDisplay">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mDisplay</h4>
<pre>private&nbsp;VirtualDisplay mDisplay</pre>
</li>
</ul>
<a name="mRecorder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mRecorder</h4>
<pre>private&nbsp;MediaRecorder mRecorder</pre>
</li>
</ul>
<a name="mStateChangeObserver">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mStateChangeObserver</h4>
<pre>private&nbsp;rx.subjects.PublishSubject&lt;<a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderState.html" title="enum in com.theif519.sakoverlay.Services">RecorderService.RecorderState</a>&gt; mStateChangeObserver</pre>
</li>
</ul>
<a name="mLastRecorderInfo">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mLastRecorderInfo</h4>
<pre>private&nbsp;<a href="../../../../com/theif519/sakoverlay/POD/RecorderInfo.html" title="class in com.theif519.sakoverlay.POJO">RecorderInfo</a> mLastRecorderInfo</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RecorderService--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RecorderService</h4>
<pre>public&nbsp;RecorderService()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initialize-int-int-boolean-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>private&nbsp;boolean&nbsp;initialize(int&nbsp;width,
                           int&nbsp;height,
                           boolean&nbsp;audioEnabled,
                           java.lang.String&nbsp;fileName)</pre>
<div class="block">Initializes the MediaRecorder with the user's requested data if it gets through the checks
 in start().</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>width</code> - Width of the display</dd>
<dd><code>height</code> - Height of the display</dd>
<dd><code>audioEnabled</code> - Whether or not audio was selected</dd>
<dd><code>fileName</code> - Name of file to create.</dd>
</dl>
</li>
</ul>
<a name="onCreate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCreate</h4>
<pre>public&nbsp;void&nbsp;onCreate()</pre>
</li>
</ul>
<a name="onBind-Intent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onBind</h4>
<pre>public&nbsp;IBinder&nbsp;onBind(Intent&nbsp;intent)</pre>
</li>
</ul>
<a name="onStartCommand-Intent-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onStartCommand</h4>
<pre>public&nbsp;int&nbsp;onStartCommand(Intent&nbsp;intent,
                          int&nbsp;flags,
                          int&nbsp;startId)</pre>
</li>
</ul>
<a name="createVirtualDisplay-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createVirtualDisplay</h4>
<pre>private&nbsp;VirtualDisplay&nbsp;createVirtualDisplay(int&nbsp;width,
                                            int&nbsp;height)</pre>
<div class="block">Convenience method to create a virtual display.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>width</code> - Width of display.</dd>
<dd><code>height</code> - Heigth of virtual display.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Initialized virtual display.</dd>
</dl>
</li>
</ul>
<a name="getState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public&nbsp;<a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderState.html" title="enum in com.theif519.sakoverlay.Services">RecorderService.RecorderState</a>&nbsp;getState()</pre>
</li>
</ul>
<a name="logErrorAndChangeState-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logErrorAndChangeState</h4>
<pre>private&nbsp;void&nbsp;logErrorAndChangeState(java.lang.Throwable&nbsp;ex)</pre>
<div class="block">Used to log any errors and handle it by changing and broadcasting it's state too, although not sure
 if it would cause a crash or not.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ex</code> - Exception.</dd>
</dl>
</li>
</ul>
<a name="changeState-com.theif519.sakoverlay.Services.RecorderService.RecorderState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeState</h4>
<pre>private&nbsp;void&nbsp;changeState(<a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderState.html" title="enum in com.theif519.sakoverlay.Services">RecorderService.RecorderState</a>&nbsp;state)</pre>
<div class="block">Change the state and broadcast it to any listeners.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - The state of the recorder.</dd>
</dl>
</li>
</ul>
<a name="setupForegroundNotification--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupForegroundNotification</h4>
<pre>private&nbsp;void&nbsp;setupForegroundNotification()</pre>
<div class="block">As it is possible for S.A.K-Overlay to be killed in the background while recording, adding a Foreground
 notification reduces the chances of it happening drastically. As the service run locally in the same process,
 S.A.K-Overlay will not be killed off unless the service is as well.
 <p/>
 Consequently, as the overlay can be quite heavy on RAM, making it a juicier target for the OOM killer, this service,
 if the system is down to critically low memory, is also more likely to be killed as well. I will hopefully remedy this
 by creating a separate process for this to run in, but that by itself comes with a lot of complication as well.</div>
</li>
</ul>
<a name="setupFloatingView--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupFloatingView</h4>
<pre>private&nbsp;void&nbsp;setupFloatingView()</pre>
<div class="block">We add the view controller to the WindowManager, allowing us to draw over other applications.
 The controller can control the state of the recorder, but also is controlled by the state changes
 as well. I.E, while in STOPPED, it can call START, but if say the ScreenRecorderFragment makes a state change,
 then the controller's next option will be STOP as the recording will have already been STARTED.
 <p/>
 Pretty much what I am getting at is that while the observable acts in an asynchronous manner, the controller
 acts in a synchronized way with the recorder's state.</div>
</li>
</ul>
<a name="die--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>die</h4>
<pre>public&nbsp;void&nbsp;die()</pre>
<div class="block">Sends the command to die, which will release any and all resources if they are currently being
 held, changes its state to DEAD, stops the foreground notification, and then stops itself.</div>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;boolean&nbsp;stop()</pre>
<div class="block">Stops the recording if it's already started.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if possible, false is bad state.</dd>
</dl>
</li>
</ul>
<a name="start-com.theif519.sakoverlay.Sessions.Recording.RecordingInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;boolean&nbsp;start(<a href="../../../../com/theif519/sakoverlay/POD/RecorderInfo.html" title="class in com.theif519.sakoverlay.POJO">RecorderInfo</a>&nbsp;info)</pre>
<div class="block">Start the recorder, if possible, with the passed information. As can be seen above, the last passed
 information is kept in memory, so we can easily reuse it from the Controller. There are also simple
 checks in place to ensure that everything is as it should be.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>info</code> - Information for recording.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if possible, false is bad state or an error/bad input.</dd>
</dl>
</li>
</ul>
<a name="checkStartParameters-int-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkStartParameters</h4>
<pre>private&nbsp;java.lang.String&nbsp;checkStartParameters(int&nbsp;width,
                                              int&nbsp;height,
                                              java.lang.String&nbsp;fileName)</pre>
<div class="block">Helper function since the checking of input is making the start() function get too long.
 It checks to see if they are valid, and if not appends an error message.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>width</code> - Width. Cannot be 0.</dd>
<dd><code>height</code> - Height. Cannot be 0.</dd>
<dd><code>fileName</code> - Filename. Cannot be null.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if good, a string describing the error if bad.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/theif519/sakoverlay/Services/NotificationService.html" title="class in com.theif519.sakoverlay.Services"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/theif519/sakoverlay/Services/RecorderService.RecorderBinder.html" title="class in com.theif519.sakoverlay.Services"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/theif519/sakoverlay/Services/RecorderService.html" target="_top">Frames</a></li>
<li><a href="RecorderService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
